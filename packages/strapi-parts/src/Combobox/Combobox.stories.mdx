<!--- Combobox.stories.mdx --->

import { useState, useRef } from 'react';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import DeleteIcon from '@strapi/icons/DeleteIcon';
import { Combobox, CreatableCombobox } from './Combobox';
import { ComboboxOption } from './ComboboxOption';

<Meta title="Design System/Components/Combobox" component={Combobox} />

# Combobox

This is the doc of the `Combobox` component

<Canvas>
  <Story name="base">
    {() => {
      const [value, setValue] = useState('');
      return (
        <Combobox label="Food" value={value} onChange={setValue}>
          <ComboboxOption value="hamburger">Hamburger</ComboboxOption>
          <ComboboxOption value="bagel">Bagel</ComboboxOption>
          <ComboboxOption value="tartuffo">Tartuffo</ComboboxOption>
          <ComboboxOption value="carbonara">Carbonara</ComboboxOption>
        </Combobox>
      );
    }}
  </Story>
</Canvas>

## Disabled

This is the doc of the `Combobox` component

<Canvas>
  <Story name="disabled">
    {() => {
      const [value, setValue] = useState('');
      return (
        <Combobox label="Food" disabled value={value} onChange={setValue}>
          <ComboboxOption value="hamburger">Hamburger</ComboboxOption>
          <ComboboxOption value="bagel">Bagel</ComboboxOption>
          <ComboboxOption value="tartuffo">Tartuffo</ComboboxOption>
          <ComboboxOption value="carbonara">Carbonara</ComboboxOption>
        </Combobox>
      );
    }}
  </Story>
</Canvas>

## Without label

This is the doc of the `Combobox` component

<Canvas>
  <Story name="withoutLabel">
    {() => {
      const [value, setValue] = useState('');
      return (
        <Combobox aria-label="Food" value={value} onChange={setValue}>
          <ComboboxOption value="hamburger">Hamburger</ComboboxOption>
          <ComboboxOption value="bagel">Bagel</ComboboxOption>
          <ComboboxOption value="tartuffo">Tartuffo</ComboboxOption>
          <ComboboxOption value="carbonara">Carbonara</ComboboxOption>
        </Combobox>
      );
    }}
  </Story>
</Canvas>

## Error

This is the doc of the `Combobox` component

<Canvas>
  <Story name="error">
    {() => {
      const [value, setValue] = useState('');
      return (
        <Combobox label="Food" value={value} error="An error occured" onChange={setValue}>
          <ComboboxOption value="hamburger">Hamburger</ComboboxOption>
          <ComboboxOption value="bagel">Bagel</ComboboxOption>
          <ComboboxOption value="tartuffo">Tartuffo</ComboboxOption>
          <ComboboxOption value="carbonara">Carbonara</ComboboxOption>
        </Combobox>
      );
    }}
  </Story>
</Canvas>

## Initial data

This is the doc of the `Combobox` component

<Canvas>
  <Story name="initial-data">
    {() => {
      const [value, setValue] = useState('tartuffo');
      return (
        <Combobox label="Food" value={value} onChange={setValue}>
          <ComboboxOption value="hamburger">Hamburger</ComboboxOption>
          <ComboboxOption value="bagel">Bagel</ComboboxOption>
          <ComboboxOption value="tartuffo">Tartuffo</ComboboxOption>
          <ComboboxOption value="carbonara">Carbonara</ComboboxOption>
        </Combobox>
      );
    }}
  </Story>
</Canvas>

## Props

<ArgsTable of={Combobox} />
