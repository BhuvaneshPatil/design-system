<!--- Button.stories.mdx --->

import { useState } from 'react';
import { ArgsTable } from '@storybook/addon-docs';
import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { Checkbox } from './Checkbox';

<Meta title="Design System/Molecules/Checkbox" component={Checkbox} />

# Checkbox

Description...

[View source](https://github.com/strapi/design-system-experiments/tree/develop/packages/strapi-design-system/src/Checkbox)

## Imports

```js
import { Checkbox } from '@strapi/design-system/Checkbox';
```

## Usage

<Canvas withSource="open">
  <Story name="default" parameters={{ docs: { source: { code: '<Checkbox>Label</Checkbox>' } } }}>
    {() => {
      const [val, setValue] = useState(false);
      return (
        <Checkbox id="default" name="default" onValueChange={(value) => setValue(value)} value={val}>
          Label
        </Checkbox>
      );
    }}
  </Story>
</Canvas>

### Indeterminate checkbox

<Canvas withSource="open">
  <Story
    name="sizes"
    parameters={{
      docs: {
        source: {
          code: `<Checkbox indeterminate>Parent</Checkbox>`,
        },
      },
    }}
  >
    {() => {
      const [checkedItems, setCheckedItems] = React.useState([true, false]);
      const allChecked = checkedItems.every(Boolean);
      const isIndeterminate = checkedItems.some(Boolean) && !allChecked;
      return (
        <ul>
          <li>
            <Checkbox
              id="parent"
              name="parent"
              indeterminate={isIndeterminate}
              onValueChange={(value) => setCheckedItems([value, value])}
              value={allChecked}
            >
              Parent
            </Checkbox>
          </li>
          <li>
            <ul>
              <li>
                <Checkbox
                  id="child1"
                  name="child1"
                  onValueChange={(value) => setCheckedItems([value, checkedItems[1]])}
                  value={checkedItems[0]}
                >
                  Child 1
                </Checkbox>
              </li>
              <li>
                <Checkbox
                  id="child2"
                  name="child2"
                  onValueChange={(value) => setCheckedItems([checkedItems[0], value])}
                  value={checkedItems[1]}
                >
                  Child 2
                </Checkbox>
              </li>
            </ul>
          </li>
        </ul>
      );
    }}
  </Story>
</Canvas>

### Disabled

Description...

<Canvas withSource="open">
  <Story name="disabled" parameters={{ docs: { source: { code: '<Checkbox disabled>Label</Checkbox>' } } }}>
    {() => {
      const [val, setValue] = useState(false);
      return (
        <Checkbox disabled id="default" name="default" onValueChange={(value) => setValue(value)} value={val}>
          Label
        </Checkbox>
      );
    }}
  </Story>
</Canvas>

### Hint

Description...

<Canvas withSource="open">
  <Story
    name="hint"
    parameters={{ docs: { source: { code: '<Checkbox hint="Description line lorem ipsum">Label</Checkbox>' } } }}
  >
    {() => {
      const [val, setValue] = useState(false);
      return (
        <Checkbox
          hint="Description line lorem ipsum"
          id="default"
          name="default"
          onValueChange={(value) => setValue(value)}
          value={val}
        >
          Label
        </Checkbox>
      );
    }}
  </Story>
</Canvas>

### Error

Description...

<Canvas withSource="open">
  <Story
    name="error"
    parameters={{ docs: { source: { code: '<Checkbox error="Description line lorem ipsum">Label</Checkbox>' } } }}
  >
    {() => {
      const [val, setValue] = useState(false);
      return (
        <Checkbox
          error="Description line lorem ipsum"
          id="default"
          name="default"
          onValueChange={(value) => setValue(value)}
          value={val}
        >
          Label
        </Checkbox>
      );
    }}
  </Story>
</Canvas>

## Accessibility

- Checkbox has role of checkbox.
- When Checkbox has focus, `Space` or `Enter` activates/deactivates it.

## Props

<ArgsTable of={Checkbox} />
